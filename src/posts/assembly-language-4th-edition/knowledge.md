---
---

# 第一章

* 汇编指令是机器指令的助记符，与机器码一一对应

* 每一种 CPU 都有自己的汇编指令集

* CPU 可以直接使用的信息在存储器中存放

* 在存储器中指令和数据没有任何区别，都是二进制信息

* 微机存储器的容量是以字节为最小单位来计算的，对于拥有 128 个存储单元的存储器，可以说它容量是 128 个字节
    * 存储单元从 0 开始顺序编号
    * 一个存储单元可以存储 8 个 bit，即 8 位二进制数

* 1Byte=8bit 1kb=1024B 1MB=1024kb 1GB=1024MB

* 每一个 CPU 芯片都有许多管脚，这些管脚和总线相连，CPU 可以引出3种总线的宽度标志这个 CPU 有不同方面的性能
    * 地址总线的宽度决定了 CPU 的寻址能力
        * 1 个 CPU 有 N 根地址线，则可以说这个 CPU 的地址总线宽度为 N，这样的 CPU 最多可寻找 2 的 N 次方个内存单元
    * 数据总线宽度决定了 CPU 与其他器件进行数据传输时一次数据传送量
        * 8 根数据总线一次可以传送一个 8 位二进制数据（即一个字节），16 根数据总线可以传送两个 8 位二进制数据（即两个字节）
    * 控制总线的宽度决定了 CPU 对系统中其他器件的控制能力

# 第二章

* 8086 CPU 的上一代寄存器都是 8 位，为了保证兼容，AX，BX，CX，DX 这 4 个寄存器可以分为两个可独立使用的 8 位寄存器，这四个寄存器用来存放一般性数据，称为通用寄存器
    * AX 分为 AH 和 AL
    * BX 分为 BH 和 BL
    * CX 分为 CH 和 CL
    * DX 分为 DH 和 DL

    其中 H 和 L 结尾代表为高位寄存器和低位寄存器

* 8086 CPU 16 位处理器一次性可以处理两种尺寸的数据、
    * 字节：byte 一个字节由 8 个 bit 组成，可以存在 8 位寄存器中
    * 字：word 一个字由两个字节组成，这两个字节分别称为高字节和低字节

* 16 位架构的 CPU 有如下几个结构特性
    * 运算器一次最多可以处理 16 位数据
    * 寄存器最大宽度为 16 位
    * 寄存器和运算器之间通路为 16 位

* 8086 CPU 有 20 位地址总线，可以传送 20 位地址，达到 1MB 寻址能力，但是 8086 CPU 又是 16 位结构，在内部一次性处理、传输、暂时存储的位置为 16 位，它只能送出 16 位地址，寻址能力只有 64kb，它采用一种在内部使用两个 16 位地址合成的方法形成一个 20 位的物理地址，即：物理地址=段地址x16+偏移地址

* 段地址x16 必然是 16 的倍数，所以一个段的起始地址也一定是 16 的倍数，偏移地址为 16 位，16 位的寻址能力是 64kb 一个段的长度最大为 64kb

<br />

假设一个数据为 2H，二进制为 10B，进行左移运算

左移位数|二进制|十六进制|十进制
-|-|-|-
0|10B|2H|2|
1|100B|4H|4|
2|1000B|8H|8|
3|10000B|10H|16|
4|100000B|20H|32|

一个数据的十六进制形式左移 1 位，相当于乘以 16；一个数据的十进制形式左移 1 位，相当于乘以 10；一个数据的X进制形式左移 1 位，相当于乘以 X

"段地址x16"，常用的说法是左移 4 位，计算机中所有信息都是以二进制的形式存储的，段地址也不例外，“左移 4 位”中的位，指的是二进制

## 段寄存器

8086 CPU 两个最为关键的寄存器

* CS
代码段寄存器
* IP
指令指针寄存器

假设 CS 中的内容位 M，IP 中的内容位 N，8086 CPU 将从内存 Mx16+N 单元开始，读取一条指令并执行，也可以表述为任意时刻 CPU 将 CS:IP 指向的内容当作指令执行

8086 CPU 读取、执行指令的工作原理可以简要描述为：
1. 从 CS:IP 指向的内存单元读取指令，读取的指令进入指令缓冲器
2. IP=IP+所读取指令的长度，从而指向下一条指令
3. 执行命令。转到步骤 `1.` 重复这个过程

修改CS、IP寄存器的内容，可以使用 `jump` 指令，形如“jump 段地址:偏移地址”

* 同时修改 CS、IP
```asm
; CS=2AE3H IP=0003H，CPU 将从 2AE33H 处读取指令
jmp 2AE3:3

; 仅修改 IP 的内容
; 指令前：ax=1000H CS=2000H IP=0003H
; 指令后：ax=1000H CS=2000H IP=1000H
jmp ax
```